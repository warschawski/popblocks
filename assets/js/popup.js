(()=>{function p(e){return typeof e}function d(e){return Object.prototype.toString.call(e)}function M(e){return B(e)||e===!1||e===null}function g(e){return p(e)==="function"}function v(e){return p(e)==="object"}function B(e){return p(e)==="undefined"}function f(...e){let t={},i=!1,s=0;p(e[0])==="boolean"&&(i=e[0],s++);let n=o=>{for(let l in o)Object.hasOwn(o,l)&&(i&&d(o[l])==="[object Object]"?t[l]=f(t[l],o[l]):t[l]=o[l])};for(;s<e.length;s++)n(e[s]);return t}function a(e,t){return(t||document).querySelectorAll(e)}function x(e){return[...e.parentElement.children].filter(t=>t!=e)}function F(e){return["[object NodeList]","[object Array]"].includes(d(e))||(e=[e]),[...e].filter(t=>!M(t))}function r(e,t){F(e).forEach(t)}function c(e,t,i,s){r(e,n=>{n.addEventListener(t,i,s||null)})}function L(e,t,i,s){c(e,t,i,f({once:!0,capture:s===!0},v(s)?s:{}))}function u(e,t,i){r(e,s=>{s.removeEventListener(t,i)})}function E(e,t,i){r(e,s=>{s.dispatchEvent(new CustomEvent(t,{detail:i||null}))})}function Q(...e){return d(e[0])==="[object Array]"&&(e=e[0]),e=e.filter(t=>t!==""),e}function y(e,t){return e.classList.contains(t)}function m(e,...t){t=Q(...t),r(e,i=>{i.classList.add(...t)})}function C(e,...t){t=Q(...t),r(e,i=>{i.classList.remove(...t)})}function J(e,t){return e.getAttribute(t)}function N(e,t){if(d(e)!=="[object Object]"){let i={};i[`${e}`]=t,e=i}return Object.entries(e)}function S(e,t,i){t=N(t,i),r(e,s=>{for(let[n,o]of t)M(o)?T(e,n):s.setAttribute(n,o)})}function T(e,t){d(t)!=="[object Array]"&&(t=[t]),r(e,i=>{r(t,s=>{i.removeAttribute(s)})})}function z(e,t,i,s){let n=$([s,t].join("-"));r(e,o=>{o.dataset[n]=J(o,t)||"",S(o,t,i)})}function D(e,t,i){let s=$([i,t].join("-"));r(e,n=>{S(n,t,n.dataset[s]||!1),delete n.dataset[s]})}function $(e){return e.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(t,i)=>i.toUpperCase())}var A=class e{static#t={};static bind(t,i,s){t=this.#e(t);let n=window.matchMedia(i),o=this.#e(n.media);this.#t[o]||(this.#t[o]={mq:n,active:!0,enter:{},leave:{}},c(n,"change",h=>{this.#i(h)})),r(Object.entries(s),h=>{let b=h[0],_=h[1];this.#t[o][b]&&(this.#t[o][b][t]?console.warn(`MediaQuery: '${t}' ${i} already exists and can not be bound`):this.#t[o][b][t]=_)});let l=this.#t[o];n.matches&&l.enter[t]?(l.enter[t].apply(n),l.active=!0):!n.matches&&l.leave[t]&&(l.leave[t].apply(n),l.active=!1)}static unbind(t,i){if(t)if(i){var s=this.#e(i);this.#t[s]&&(this.#t[s].enter[t]&&delete this.#t[s].enter[t],this.#t[s].leave[t]&&delete this.#t[s].leave[t])}else r(Object.entries(this.#t),n=>{let o=n[1];o.enter[t]&&delete o.enter[t],o.leave[t]&&delete o.leave[t]})}static#i(t){let i=e.#e(t.media),s=this.#t[i],n=t.matches?"enter":"leave";s&&(s.active||!s.active&&t.matches)&&(r(Object.entries(s[n]),o=>{o[1].apply(s.mq)}),s.active=!0)}static#e(t){return t.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}},k=A;function q(e,t){typeof jQuery<"u"&&(jQuery.fn[t.toLowerCase()]=function(i,...s){return jQuery(this).each((n,o)=>{!i||v(i)?new e(o,i):o[t]&&g(o[t][i])&&o[t][i](...s)})})}function w(e,t){typeof jQuery<"u"&&(jQuery[t.toLowerCase()]=function(i,...s){if(g(e[i]))return e[i](...s)})}w(k,"MediaQuery");var j=class e{static#t=1;static#i={customClass:"",templates:{container:`
<div class="fs-modal" role="dialog" aria-modal="true">
  <div class="fs-modal-overlay"></div>
  <div class="fs-modal-container">
    <div class="fs-modal-wrap">
      <button type="button" class="fs-modal-close" aria-label="Close">[close]</button>
      <div class="fs-modal-frame"></div>
    </div>
  </div>
</div>`,close:'<span class="fs-modal-sr">Close</span><svg viewBox="-6 -6 24 24" fill="currentColor"><path d="M7.314 5.9l3.535-3.536A1 1 0 1 0 9.435.95L5.899 4.485 2.364.95A1 1 0 1 0 .95 2.364l3.535 3.535L.95 9.435a1 1 0 1 0 1.414 1.414l3.535-3.535 3.536 3.535a1 1 0 1 0 1.414-1.414L7.314 5.899z"></path></svg>'}};static defaults(t){this.#i=f(!0,this.#i,t)}static construct(t,i){let s=a(t);return r(s,n=>{n.Modal||new e(n,i)}),s}constructor(t,i){if(t.Modal){console.warn("Modal: Instance already exists",t);return}let s={},n=t.dataset;try{s=JSON.parse(n.modalOptions||"{}")}catch{console.warn("Modal: Error parsing options JSON",t)}Object.assign(this,f(!0,this.constructor.#i,i||{},s)),this.el=t,this.guid=this.constructor.#t++,this.guidClass=`fs-modal-element-${this.guid}`,this.isOpen=!1,m(this.el,this.guidClass),c(this.el,"click",this.#s),t.Modal=this}destroy(){this.close(),C(this.el,this.guidClass),u(this.el,"click",this.#s),this.el.Modal=null,delete this.el.Modal}open(){this.isOpen||(this.hash=this.el.hash,this.targetEl=a(this.hash)[0],this.targetEl&&(this.listeners={close:this.#a(),container:this.#r(),keydown:this.#c()},this.#e(),this.#o(),setTimeout(()=>{m(this.modalEl,"fs-modal-open"),this.isOpen=!0,this.closeEl.focus(),E(window,"modal:open",{el:this.el})},10)))}close(){if(!this.isOpen)return;C(this.modalEl,"fs-modal-open"),this.#n(),u(window,"keydown",this.listeners.keydown),u(window,"modal:close",this.listeners.close);let t=i=>{y(i.target,"fs-modal")&&(this.targetEl.append(...this.frameEl.childNodes),u(this.modalEl,"transitionend",t),this.modalEl.remove(),this.isOpen=!1,this.el.focus(),E(window,"modal:close",{el:this.el}))};c(this.modalEl,"transitionend",t)}#e(){let t=this.templates.container.replace("[close]",this.templates.close);document.body.insertAdjacentHTML("beforeend",t),this.modalEl=a(".fs-modal")[0],this.overlayEl=a(".fs-modal-overlay",this.modalEl)[0],this.closeEl=a(".fs-modal-close",this.modalEl)[0],this.containerEl=a(".fs-modal-container",this.modalEl)[0],this.wrapEl=a(".fs-modal-wrap",this.modalEl)[0],this.frameEl=a(".fs-modal-frame",this.modalEl)[0],this.frameEl.append(...this.targetEl.childNodes),this.wrapEl.append(this.frameEl),m(this.modalEl,this.customClass),L(this.closeEl,"click",this.listeners.close),c(this.containerEl,"click",this.listeners.container),c(window,"keydown",this.listeners.keydown),c(window,"modal:close",this.listeners.close)}#o(){z(x(this.modalEl),"aria-hidden","true","modal")}#n(){D(x(this.modalEl),"aria-hidden","modal")}#s(t){t.preventDefault(),t.stopPropagation(),this.Modal.open()}#r(){return t=>{t.target!==this.frameEl&&!this.frameEl.contains(t.target)?this.close():this.#l(t)}}#l(t){y(t.target,"fs-modal-trigger-close")&&this.close()}#a(){return t=>{this.close()}}#c(){return t=>{t.key==="Escape"&&this.close()}}},O=j;q(O,"Modal");w(O,"Modal");(function(e,t){e(document).ready(function(){e(".popblocks-popup").modal({})})})(jQuery,window);})();
//# sourceMappingURL=popup.js.map
